<%=
<<-TEMPLATE
require 'cuba'
require 'json'

# If you need extra protection.
# require 'cuba/safe'
# Cuba.plugin Cuba::Safe

# To launch just type: 'rackup' in your console
Cuba.define do
# Uncomment if you want to use cuba/safe
# on csrf.unsafe? do
#    csrf.reset!

#   res.status = 403
#   res.write("Not authorized")

#   halt(res.finish)
# end
  on get do

    on root do
      data = { first_name: 'Hello', last_name: 'World' }
      res.headers["Content-Type"] = "application/json; charset=utf-8"
      res.write data.to_json
    end
  
  end
end
TEMPLATE
%>
